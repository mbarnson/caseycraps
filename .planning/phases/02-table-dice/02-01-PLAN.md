---
phase: 02-table-dice
plan: 01
type: execute
domain: macos-apps
---

<objective>
Create the craps table layout with betting areas.

Purpose: Establish the visual foundation that makes this look and feel like a craps table.
Output: CrapsTableNode with Pass Line, Don't Pass, and point number display.
</objective>

<execution_context>
@~/.claude/skills/create-plans/workflows/execute-phase.md
@~/.claude/skills/create-plans/templates/summary.md
</execution_context>

<context>
@.planning/BRIEF.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-02-SUMMARY.md
@Casey Craps/Casey Craps/GameScene.swift
@Casey Craps/Casey Craps/GameManager.swift
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create CrapsTableNode class</name>
  <files>Casey Craps/Casey Craps/CrapsTableNode.swift</files>
  <action>
Create a new CrapsTableNode.swift with an SKNode subclass:

1. CrapsTableNode class extending SKNode
2. Properties:
   - tableWidth: CGFloat (sized for 1024x768 scene, about 900 wide)
   - tableHeight: CGFloat (about 400 tall)
3. init() sets up the base table:
   - Dark green felt background (SKShapeNode rounded rect)
   - Gold/tan border (casino table rail look)
4. Method setupLayout() called from init to add betting areas
5. Keep the design simple but recognizable as a craps table

Use SKShapeNode for shapes, SKLabelNode for text.
Colors: felt green (#0d5c0d), border gold (#c9a227), text white/yellow.
  </action>
  <verify>xcodebuild -project "Casey Craps/Casey Craps.xcodeproj" -scheme "Casey Craps" build 2>&1 | tail -10</verify>
  <done>CrapsTableNode.swift exists with base table shape, builds without errors</done>
</task>

<task type="auto">
  <name>Task 2: Draw Pass Line and Don't Pass areas</name>
  <files>Casey Craps/Casey Craps/CrapsTableNode.swift</files>
  <action>
Add betting area shapes to CrapsTableNode:

1. Pass Line area:
   - Large curved band along the bottom of the table
   - SKShapeNode with path (or rounded rect approximation)
   - "PASS LINE" label in white/yellow
   - This is where most bets go

2. Don't Pass Bar:
   - Smaller area above/inside the pass line curve
   - "DON'T PASS BAR" label
   - Slightly different color to distinguish (darker or outlined)

3. Layout should be recognizable but simplified:
   - We're not recreating every casino bet area
   - Focus on Pass/Don't Pass since those are the only bets we support

Keep areas clickable-sized for later bet placement (Phase 3).
Use clear visual hierarchy - Pass Line should be prominent.
  </action>
  <verify>xcodebuild -project "Casey Craps/Casey Craps.xcodeproj" -scheme "Casey Craps" build 2>&1 | tail -10</verify>
  <done>Pass Line and Don't Pass areas visible with labels, builds without errors</done>
</task>

<task type="auto">
  <name>Task 3: Add point number display and integrate with scene</name>
  <files>Casey Craps/Casey Craps/CrapsTableNode.swift, Casey Craps/Casey Craps/GameScene.swift</files>
  <action>
1. In CrapsTableNode, add point number boxes:
   - Row of boxes for: 4, 5, SIX, 8, NINE, 10 (casino style uses words for 6/9)
   - Each box is a small rounded rect with number label
   - Position above the pass line area
   - Add a "puck" node (OFF/ON indicator) - start as hidden or "OFF"
   - Method: setPuckPosition(point: Int?) - nil means OFF, number shows ON on that point

2. In GameScene.swift:
   - Remove the temporary "Roll Dice" label
   - Create and add CrapsTableNode instance
   - Position table in center of scene
   - Keep the roll button but move it to a better position (below table or to the side)

The scene should now show a proper craps table instead of just green felt.
  </action>
  <verify>xcodebuild -project "Casey Craps/Casey Craps.xcodeproj" -scheme "Casey Craps" build 2>&1 | tail -10</verify>
  <done>Point numbers displayed, puck system ready, table integrated into GameScene</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] xcodebuild build succeeds with no errors
- [ ] CrapsTableNode.swift contains table layout code
- [ ] GameScene shows CrapsTableNode instead of plain green
- [ ] Pass Line area is visible and labeled
- [ ] Point numbers (4,5,6,8,9,10) are displayed
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No compiler errors or warnings
- Table layout is recognizable as a craps table
</success_criteria>

<output>
After completion, create `.planning/phases/02-table-dice/02-01-SUMMARY.md`
</output>
