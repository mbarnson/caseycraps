---
phase: 05-polish
plan: 02
type: execute
domain: macos-apps
---

<objective>
Add educational hints and roll result callouts for complete craps experience.

Purpose: Help players learn craps by showing what matters in each phase.
Output: Contextual hints, prominent roll results, polished final experience.
</objective>

<execution_context>
@~/.claude/skills/create-plans/workflows/execute-phase.md
@~/.claude/skills/create-plans/templates/summary.md
@~/.claude/skills/create-plans/references/checkpoints.md
</execution_context>

<context>
@.planning/BRIEF.md
@.planning/ROADMAP.md
@.planning/phases/05-polish/05-01-SUMMARY.md
@Casey Craps/Casey Craps/GameScene.swift
@Casey Craps/Casey Craps/GameManager.swift
@Casey Craps/Casey Craps/CrapsTableNode.swift
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add contextual hints</name>
  <files>Casey Craps/Casey Craps/GameScene.swift</files>
  <action>
Show educational hints that explain what wins/loses in current phase:

1. Add hintLabel: SKLabelNode property
   - Smaller than game state banner (20-24pt)
   - Positioned below the game state banner
   - Subtle but readable color (light gray or dim yellow)

2. Update hints based on game state and bet type:

   For Pass Line bet:
   - .comeOut: "7 or 11 WINS! • 2, 3, 12 loses • Other numbers set the point"
   - .point(let value): "Roll [value] to WIN! • 7 loses (seven-out)"

   For Don't Pass bet:
   - .comeOut: "2 or 3 WINS! • 7, 11 loses • 12 pushes • Other sets point"
   - .point(let value): "7 WINS! • [value] loses"

   - .waitingForBet: "Click PASS LINE or DON'T PASS to place your bet"
   - .resolved: (hide or show outcome summary)

3. Create updateHintLabel() method called when state changes

4. Keep hints concise but informative - player should know at a glance what they're rooting for

This is key for learning - players will understand craps by seeing these hints repeatedly.
  </action>
  <verify>xcodebuild -project "Casey Craps/Casey Craps.xcodeproj" -scheme "Casey Craps" build 2>&1 | tail -10</verify>
  <done>Contextual hints show what wins/loses based on current state and bet type</done>
</task>

<task type="auto">
  <name>Task 2: Add roll result callout</name>
  <files>Casey Craps/Casey Craps/GameScene.swift</files>
  <action>
Show the roll result prominently after each roll:

1. Add rollResultLabel: SKLabelNode property
   - Large font (60-72pt) - this is a big announcement
   - Positioned center of screen (or above dice area)
   - Initially hidden

2. After dice settle, show roll result:
   - Display total: "7!" or "6!" or "11!"
   - Color code:
     * Green for winning numbers (7/11 on come-out for Pass, point hit)
     * Red for losing numbers (7 during point for Pass, craps on come-out)
     * Yellow/white for neutral (point established, keep rolling)

3. Animation:
   - Pop in with scale animation (0 -> 1.2 -> 1.0)
   - Hold for ~1 second
   - Fade out before game resets

4. Coordinate with outcome label:
   - Roll result shows first (the number)
   - Then outcome label shows (WIN!/LOSE!)
   - Sequence: Roll -> Result number -> Outcome -> Reset

5. For "keep rolling" during point phase:
   - Show number briefly
   - Maybe add small "Keep rolling..." text
   - Fade faster since game continues

This makes each roll feel like an event and clearly shows what was rolled.
  </action>
  <verify>xcodebuild -project "Casey Craps/Casey Craps.xcodeproj" -scheme "Casey Craps" build 2>&1 | tail -10</verify>
  <done>Roll result displays prominently with color coding and animation</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete polished craps game with HUD, hints, and visual feedback</what-built>
  <how-to-verify>
    1. Run the app (Cmd+R)
    2. **Check game state banner**: Should show "PLACE YOUR BET" initially
    3. **Check hints**: Should show "Click PASS LINE or DON'T PASS..."
    4. **Test bet amounts**: Click different amounts ($25, $50, $100, $500)
    5. Place a Pass Line bet
    6. **Verify banner changes**: "COME OUT ROLL"
    7. **Verify hints update**: "7 or 11 WINS! • 2, 3, 12 loses..."
    8. Roll dice and observe:
       - Roll result number appears big and animated
       - Color indicates good/bad
       - If point set: puck animates to number, banner shows "POINT IS X"
       - Hints update to show what wins now
    9. Continue rolling if point phase:
       - Hints show "Roll X to WIN! • 7 loses"
       - Each roll shows number clearly
    10. On win/lose: outcome clear, then resets
    11. **Overall feel**: Does this feel like learning/playing real craps now?
  </how-to-verify>
  <resume-signal>Type "approved" if it feels like real craps, or describe what's still missing</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] xcodebuild build succeeds with no errors
- [ ] Contextual hints show for each game state
- [ ] Hints are appropriate for bet type (Pass vs Don't Pass)
- [ ] Roll result displays prominently after each roll
- [ ] Results are color-coded (green/red/neutral)
- [ ] Animation timing feels right
- [ ] Overall experience feels like real craps
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Human verified game feels like real craps
- Phase 5 complete: polished, educational craps game
</success_criteria>

<output>
After completion, create `.planning/phases/05-polish/05-02-SUMMARY.md`

This completes Phase 5 and the entire v1.0 roadmap. Casey Craps is ready to play!
</output>
